<script>
    function checkBrackets(str) {
        let stack = [];
        let openBrackets = ['(', '[', '{'];
        let closeBrackets = [')', ']', '}'];

        for (let i = 0; i < str.length; i++) {
            let char = str.charAt(i);

            if (openBrackets.includes(char)) {
                stack.push(char);
            } else if (closeBrackets.includes(char)) {
                let lastBracket = stack.pop();

                if (openBrackets.indexOf(lastBracket) !== closeBrackets.indexOf(char)) {
                    return i + 1;
                }
            }
        }

        if (stack.length === 0) {
            return 'yes';
        } else {
            let firstOpenBracket = stack.pop();
            return str.indexOf(firstOpenBracket) + 1;
        }
    }

    console.assert(checkBrackets('()') === 'yes', 'Test Case 1 Failed');
    console.assert(checkBrackets('{[()]}') === 'yes', 'Test Case 2 Failed');
    console.assert(checkBrackets('({[)})') === 4, 'Test Case 3 Failed');
    console.assert(checkBrackets('((') === 1, 'Test Case 3 Failed');

</script>